= Create a network report automation job template

== Lab 1 - challenge 1

*Learn how to create a network report job template in automation*


=== Lab 2 - Infrastructure Awareness

This lab will walk you through using Automation controller to create some *Dynamic Documentation* to retrieve and display information about a Cisco CSR (cloud services router) running IOS-XE.

Please click the Green Start button image:https://github.com/IPvSean/pictures_for_github/blob/master/start_button.png?raw=true[Start button, 100, align=left] on the bottom right corner if it did not already start provisioning.

=== Lab Diagram

The lab diagram for this demonstration is very simple.  There will be one Red Hat Enterprise Linux 8 device running automation controller.  It is directly connected to the management network for a Cisco CSR (cloud services router) running IOS-XE.

image::https://github.com/IPvSean/pictures_for_github/blob/master/lab1-topo.png?raw=true[Lab diagram, 400, align=center]

=== Quick Automation Victories

Infrastructure Awareness is a great introductory use case for network operators because it is:

* Read-only, no changing of production configs
* Normalizes configs into structured data
* Provides valuable information via Dynamic Documentation

=== Automation controller

Automation controller provides a standardized way to define, operate, and delegate Ansible automation across the enterprise. It includes a Web User Interface (WebUI) that we will be using for this challenge.

=== Job Templates

Everything in Automation controller revolves around the concept of a *Job Template*.  Job Templates allow Ansible Playbooks to be controlled, delegated and scaled for an organization.

Job templates also encourage the reuse of Ansible Playbook content and collaboration between teams.

A Job Template requires:
* An *Inventory* to run the job against
* A *Credential* to login to devices.
* A *Project* which contains Ansible Playbooks

=== Challenge 1 - Creating a Network Report Job Template

For this challenge exercise you are going to create a Job Template in Automation controller.  We are going to use the Network Toolkit Collection (https://github.com/network-automation/toolkit) that contains multi-vendor playbooks for creating a network report, backups, and more.

The *credentials* (username and password), *inventory* (a single Cisco router) and *project* (the network toolkit repository listed above) are already added.  We simply need to tie them together into a simple re-usable Job Template for our organization to use.

=== Lets get started

That is the end of of your lab briefing!

Once the lab is setup you can click the Green start button image:https://github.com/IPvSean/pictures_for_github/blob/master/start_button.png?raw=true[Start button, 100, align=left] in the bottom right corner of this window.

For this exercise we are going to create an automation job on Automation controller

=== Login to automation controller

To login to automation controller select the `Automation controller WebUI` tab at the top of your screen.

Login with the following credentials:

username: `admin`
password: `ansible123!`

=== Step 1 - Create an automation job

* Navigate to *Job Templates* by clicking on *Templates* found under Resources on the left navigation menu. image:https://github.com/IPvSean/pictures_for_github/blob/master/job_templates.png?raw=true[Job templates]
* You will see a list of *Job Templates*.  Job templates encourage the reuse of Ansible playbook content and collaboration between teams.
* Click the blue Add button and select *Add job template*
* Assign the following values

[cols="1,1"]
|===
|Name |Value

|Name
|`Network Automation - Report`

|Job Type
|`Run`

|Inventory
|`Network Inventory`

|Project
|`Network Toolkit`

|Execution Environment
|`Network Execution Environment`

|Playbook
|`playbooks/network_report.yml`

|Credentials
|`Network Credential`
|===

* Click the blue *Save* button to save your job template.

=== Step 2 - Verify

Click the Green `Check` button below to verify the job template was created.